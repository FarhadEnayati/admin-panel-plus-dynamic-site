function TopSubcategoryNewsViewModel(e, newsArray) {    var self = this;    var $e = $(e);    this.news = ko.observable(newsArray);    this.subClicked = function (model, evt) {        var $target = $(evt.target);        $target.parents('ul').find('li.active').toggleClass('active');        $target.parent('li').toggleClass('active');        $.get('topSubcategoryNews/latest/' + $target.data('id'), {}, function (news) {            self.news(news);            bLazy.revalidate();        });    };    this.nextSubcategory = function () {        var length = $e.find('.nano ul li').length;        var current = $e.find('.nano ul li.active').index();        if(current +1 < length) {            self.subClicked(null, {target: $e.find('.nano ul li:nth-child('+(current+2)+') a')[0]});        } else {            self.subClicked(null, {target: $e.find('.nano ul li:first-child a')[0]});        }    };}window.topSubcategoryNewsViewModels = [];$(".subcategory-top-news").each(function (i, e) {    var news = [];    $(e).find('.col-xs-2.item').each(function (i, e) {        $e = $(e);        news.push({            url: $e.find('a').attr('href'),            thumbnail: $e.find('img').data('src'),            title: $e.find('h4').html(),            summary: $e.find('.excerpt').html()        });    });    $(e).find('.col-xs-2.item').remove();    var topSubcategoryNewsViewModel = new TopSubcategoryNewsViewModel(e, news);    topSubcategoryNewsViewModels.push(topSubcategoryNewsViewModel);    ko.applyBindings(topSubcategoryNewsViewModel, e);});